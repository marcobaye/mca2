mit Shmendric zu echtem Adventure ausbauen:

- Umlaute!
- add automatic word wrap
zwei-Wort-Parser? Inventar!

add items (mobile and fixed), handle as vars (value is location)
	mobile/fixed could be distinguished by sorting (first one, then
		the other, with border value for CMP)
	items declared in situation get that sit as default position, all
	others are hidden.

add "drop" command to move item from INVENTORY to HERE

use string with stick
	hide string	# puts item X to "NOWHERE" location
	hide stick
	gain bow	# puts item Z to "INVENTORY" location
		# FIXME - or rather HERE? should depend on item's
		# mobility!
	"You now have a bow"
	if arrow @ inventory
		" to shoot arrows with."
	else
		", pity you do not have arrows."
	endif
use feather with stick
	hide feather
	hide stick
	gain arrow
	"You now have an arrow"
	if bow @ inventory
		" to shoot with your bow"
	else
		", pity you do not have a bow to shoot it."
	endif

conv:
	add "say"
	allow "IF var"
backend:
	add "ifnonzero"

vocabulary:
	north south west east up down
	take drop inventory
	use-X-with-Y

	nord süd west ost hoch runter
	nimm verliere inventar
	benutze-X-mit-Y


Im Augenblick benutzt das Spiel PetSCII. Das ist aber ein Problem,
wenn Umlaute dazu kommen: Insbesondere wenn der Source in UTF8
vorliegt, weil die Multi-Byte-Zeichen auch durch "!ct" nicht
vernünftig konvertiert werden.

Lösung: Im Source raw-Encoding wählen und dann zur Laufzeit
konvertieren. Alle Umlaute haben das gleiche Präfixbyte, das ist also
schnell gemacht.
Neues Problem: Was ist mit Steuerzeichen?
Nötig sind:
Terminator (bleibt 0)
CR (bleibt 13)
sechzehn Farbcodes - bleiben wie bei PetSCII? Ginge!
evtl. Cursorbewegungen? Könnten auch wie bei PetSCII bleiben...

Zeichensatz:
Upper/Graphics liegt bei $d000 (1K), revs dahinter ($d400)
Lower/Upper liegt bei $d800 (1K), revs dahinter ($dc00)
Screen ausblenden (dabei CLEAR), dann:
vic: invalid video mode to force black
cia2: highest vic bank
vic: screen-ptr und charset-ptr umsetzen
"bank 14"
copy d800..dc00 to d800..dc00
fix umlauts
xor-copy d800..dc00 to dc00
"bank 15"
zp: screen-ptr umsetzen
output: LOCK und CLEAR
vic: valid video mode to enable display
